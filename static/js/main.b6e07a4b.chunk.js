(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={item:"ImageGalleryItem_item__2SDuu",image:"ImageGalleryItem_image__97v9O"}},11:function(e,t,a){e.exports={btn:"Button_btn__2RQ5M",btnContainer:"Button_btnContainer__3AebJ"}},12:function(e,t,a){e.exports={overlay:"Modal_overlay__3MEPu",modal:"Modal_modal__1M504"}},24:function(e,t,a){e.exports={imageGallery:"ImageGallery_imageGallery__YlOc3"}},29:function(e,t,a){},30:function(e,t,a){},5:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__1hBi0",searchForm:"Searchbar_searchForm__2XrdD",btn:"Searchbar_btn__2z1dj",btnLabel:"Searchbar_btnLabel__26nx4",input:"Searchbar_input__1neov",inputPlaceholder:"Searchbar_inputPlaceholder__17c9P"}},70:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(7),o=a.n(r),i=(a(29),a(13)),s=a(4),l=(a(30),a(22)),u=a.n(l),b=function(e){var t=e.searchQuery,a=void 0===t?"":t,n=e.currentPage,c=void 0===n?1:n,r=e.perPage,o=void 0===r?12:r;return u.a.get("".concat("https://pixabay.com/api","/?q=").concat(a,"&page=").concat(c,"&per_page=").concat(o,"&key=").concat("21837962-4cd9da589d4f9b46acd6bb393","&image_type=photo&orientation=horizontal")).then((function(e){return e.data.hits}))},m=a(23),j=a.n(m),d=a(5),h=a.n(d),f=a(1);var g=function(e){var t=e.onSubmit,a=Object(n.useState)(""),c=Object(s.a)(a,2),r=c[0],o=c[1];return Object(f.jsx)("header",{className:h.a.searchbar,children:Object(f.jsxs)("form",{className:h.a.searchForm,onSubmit:function(e){e.preventDefault(),t(r),o("")},children:[Object(f.jsx)("button",{type:"submit",className:h.a.btn,children:Object(f.jsx)("span",{className:h.a.btnLabel,children:"Search"})}),Object(f.jsx)("input",{className:h.a.input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){o(e.currentTarget.value)},value:r})]})})},O=a(24),_=a.n(O),p=a(10),v=a.n(p),x=function(e){var t=e.image,a=e.onImageClick;return Object(f.jsx)("li",{className:v.a.item,children:Object(f.jsx)("img",{src:t.webformatURL,alt:t.tags,className:v.a.image,onClick:function(){return a(t.largeImageURL)}})})};x.defaultProps={tags:""};var y=x,S=function(e){var t=e.images,a=e.onImageClick;return Object(f.jsx)("ul",{className:_.a.imageGallery,children:t.map((function(e){return Object(f.jsx)(y,{image:e,onImageClick:a},e.id)}))})},k=a(11),w=a.n(k),C=function(e){var t=e.onClick;return Object(f.jsx)("div",{className:w.a.btnContainer,children:Object(f.jsx)("button",{className:w.a.btn,type:"button",onClick:t,children:"Load more"})})},N=a(12),I=a.n(N),E=document.getElementById("modal-root");var P=function(e){var t=e.onClose,a=e.children;Object(n.useEffect)((function(){return window.addEventListener("keydown",c),function(){window.removeEventListener("keydown",c)}}));var c=function(e){"Escape"===e.code&&t()};return Object(r.createPortal)(Object(f.jsx)("div",{className:I.a.overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(f.jsx)("div",{className:I.a.modal,children:a})}),E)};var F=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(1),o=Object(s.a)(r,2),l=o[0],u=o[1],m=Object(n.useState)(""),d=Object(s.a)(m,2),h=d[0],O=d[1],_=Object(n.useState)(!1),p=Object(s.a)(_,2),v=p[0],x=p[1],y=Object(n.useState)(null),k=Object(s.a)(y,2),w=k[0],N=k[1],I=Object(n.useState)(!1),E=Object(s.a)(I,2),F=E[0],L=E[1],B=Object(n.useState)(""),G=Object(s.a)(B,2),M=G[0],D=G[1];Object(n.useEffect)((function(){h&&J()}),[h]),Object(n.useEffect)((function(){l>2&&Q()}),[l]);var J=function(){var e={searchQuery:h,currentPage:l};x(!0),b(e).then((function(e){c((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e))})),u(l+1)})).catch((function(e){N(e)})).finally((function(){x(!1)}))},Q=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},R=a.length>0&&!v;return Object(f.jsxs)(f.Fragment,{children:[F&&Object(f.jsx)(P,{onClose:function(){L(!F)},children:Object(f.jsx)("img",{src:M,alt:"",className:"modalImage"})}),Object(f.jsx)(g,{onSubmit:function(e){O(e),u(1),c([]),N(null)}}),w&&Object(f.jsx)("h1",{children:"Ooops... Something went wrong"}),v&&Object(f.jsx)(j.a,{type:"Puff",color:"#00BFFF",height:50,width:50,className:"loader"}),Object(f.jsx)(S,{images:a,onImageClick:function(e){D(e),L(!0)}}),R&&Object(f.jsx)(C,{onClick:J})]})};o.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(F,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.b6e07a4b.chunk.js.map